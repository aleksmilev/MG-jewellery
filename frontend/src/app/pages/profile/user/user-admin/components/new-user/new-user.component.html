<form>
    <div>
        <p class="page_title mb-3">Моите данни</p>

        <div [ngClass]="incorrect_inputs.length !== 0? 'd-flex flex-column my-2':'d-none'">
            <span class="incorrect w-100 mb-2" *ngFor="let incorrect_input of incorrect_inputs">{{ incorrect_input }}</span>
        </div>
        <div [ngClass]="success? 'd-block my-2  ':'d-none'">
            <span class="success w-100 mb-2">Успешно актуализирахте акаунта си!</span>
        </div>

        <div class="d-flex gap-3">
            <div>
                <label for="first_name" [ngClass]="incorrect_inputs.length !== 0 ? 'incorrect':''">Име</label>
                <input id="first_name" name="first_name" type="text" [(ngModel)]="form.first_name">
            </div>

            <div>
                <label for="last_name" [ngClass]="incorrect_inputs.length !== 0 ? 'incorrect':''">Фамилия</label>
                <input id="last_name" name="last_name" type="text" [(ngModel)]="form.last_name">
            </div>
        </div>

        <div class="w-400">
            <label for="email" [ngClass]="incorrect_inputs.length !== 0 ? 'incorrect':''">Имейл</label>
            <input id="email" name="email" type="email" [(ngModel)]="form.email">
        </div>

        <div class="w-400">
            <label for="phone" [ngClass]="incorrect_inputs.length !== 0 ? 'incorrect':''">Телефонен номер</label>
            <input id="phone" name="phone" type="tel" (keydown)="allowOnlyNumbers($event)" [(ngModel)]="form.phone">
        </div>

        <div class="w-400">
            <label for="admin_access" [ngClass]="incorrect_inputs.length !== 0 ? 'incorrect':''">Роля</label>
            <select name="admin_access" id="admin_access" [(ngModel)]="form.admin_access">
                <option value="0">Редактор</option>
                <option value="1">Администратор</option>
            </select>
        </div>

        <br>    

        <div class="position-relative w-400">
            <label for="password" [ngClass]="incorrect_inputs.length !== 0 ? 'incorrect':''">Парола</label>
            <input id="password" name="password" [type]="show_password[0]? 'text':'password'" [(ngModel)]="new_password[0]">
    
            <img [src]="show_password[0]? '/assets/icons/show-password.svg':'/assets/icons/not-show-password.svg'" alt="" style="width: 27px;" (click)="show_password[0] = !show_password[0]">
        </div>

        <div class="position-relative w-400">
            <label for="password" [ngClass]="incorrect_inputs.length !== 0 ? 'incorrect':''">Потвърди парола</label>
            <input id="password" name="password" [type]="show_password[1]? 'text':'password'" [(ngModel)]="new_password[1]">
    
            <img [src]="show_password[1]? '/assets/icons/show-password.svg':'/assets/icons/not-show-password.svg'" alt="" style="width: 27px;" (click)="show_password[1] = !show_password[1]">
        </div>
    </div>

    <div class="submit">
        <input type="button" value="Създайте нов потребител" class="primary-button" (click)="save_changes()">
    </div>
</form>

